"use strict";var v=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var R=Object.prototype.hasOwnProperty;var N=(n,e)=>{for(var o in e)v(n,o,{get:e[o],enumerable:!0})},V=(n,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of E(e))!R.call(n,a)&&a!==o&&v(n,a,{get:()=>e[a],enumerable:!(r=B(e,a))||r.enumerable});return n};var U=n=>V(v({},"__esModule",{value:!0}),n);var j={};N(j,{default:()=>F});module.exports=U(j);var t=require("@raycast/api");var D=["the","be","of","and","a","to","in","he","have","it","that","for","they","I","with","as","not","on","she","at","by","this","we","you","do","but","from","or","which","one","would","all","will","there","say","who","make","when","can","more","if","no","man","out","other","so","what","time","up","go","about","than","into","could","state","only","new","year","some","take","come","these","know","see","use","get","like","then","first","any","work","now","may","such","give","over","think","most","even","find","day","also","after","way","many","must","look","before","great","back","through","long","where","much","should","well","people","down","own","just","because","good","each","those","feel","seem","how","high","too","place","little","world","very","still","nation","hand","old","life","tell","write","become","here","show","house","both","between","need","mean","call","develop","under","last","right","move","thing","general","school","never","same","another","begin","while","number","part","turn","real","leave","might","want","point","form","off","child","few","small","since","against","ask","late","home","interest","large","person","end","open","public","follow","during","present","without","again","hold","govern","around","possible","head","consider","word","program","problem","however","lead","system","set","order","eye","plan","run","keep","face","fact","group","play","stand","increase","early","course","change","help","line"];function L(n,e){let r=(new Date().getTime()-n.getTime())/1e3,a=e.trim().split(/\s+/).length;return Math.round(a/(r/60))}function k(n,e){return Math.round((n.length-e)/n.length*100)}function S(n,e,o){if(n=="")return[e,0];let r;return n.split("").forEach((l,c)=>{if(l!==e[c]){o();return}r=c}),r===void 0?[e,0]:[e.split("").reduce((l,c,d)=>c!==" "&&d===r?(l+=`${c}**`,l):c===" "&&d===r?(l+=`**${c}`,l):(l+=c,l),"**"),r+1]}function A(){return"You are super, to reload press **Enter**"}function P(n=10){let e=0,o="";for(;e<n;){let r=Math.floor(Math.random()*D.length),a=D[r];o+=a,e!==n-1&&(o+=" "),e+=1}return o}var s=require("react");function G(){let[n,e]=(0,s.useState)(null),[o,r]=(0,s.useState)(""),[a,l]=(0,s.useState)("10"),[c,d]=(0,s.useState)(0),[m,g]=(0,s.useState)(0),[b,f]=(0,s.useState)(!0),[u,p]=(0,s.useState)(""),[$,y]=(0,s.useState)(o),[I,x]=(0,s.useState)(!1),[C,w]=(0,s.useState)(!1);function T(){p(""),d(0),e(null),g(0),f(!0);let h=P(parseInt(a));r(h),p(""),y(h),w(!1),x(!1)}return(0,s.useEffect)(()=>{T()},[]),(0,s.useEffect)(()=>{T()},[a]),(0,s.useEffect)(()=>{if(I||u.length===0){w(!1);return}C||w(!0);let h=null;n?h=n:(h=new Date,e(h));let[W,M]=S(u,o,()=>{g(m+1)});if(M===o.length){x(!0),w(!1),p(""),y(A());return}f(M===u.length),y(W),d(L(h,u))},[u]),{content:$,isFinish:I,isCorrect:b,speed:c,failedCount:m,reloadGame:T,typedText:u,setTypedText:p,inProgress:C,setTestLength:l,testLength:a,test:o}}var i=require("react/jsx-runtime");function F(){let{isFinish:n,typedText:e,setTypedText:o,speed:r,test:a,content:l,failedCount:c,isCorrect:d,reloadGame:m,inProgress:g,testLength:b,setTestLength:f}=G();return(0,i.jsx)(t.List,{searchText:e,isLoading:g,isShowingDetail:!0,searchBarPlaceholder:"Type here",onSearchTextChange:u=>o(u),searchBarAccessory:(0,i.jsxs)(t.List.Dropdown,{tooltip:"Word Amount",defaultValue:b,onChange:f,filtering:!1,storeValue:!0,children:[(0,i.jsx)(t.List.Dropdown.Item,{title:"10 words",value:"10"}),(0,i.jsx)(t.List.Dropdown.Item,{title:"25 words",value:"25"}),(0,i.jsx)(t.List.Dropdown.Item,{title:"50 words",value:"50"}),(0,i.jsx)(t.List.Dropdown.Item,{title:"100 words",value:"100"})]}),children:(0,i.jsx)(t.List.Item,{icon:{source:t.Icon.Stopwatch,tintColor:d?t.Color.Green:t.Color.Red},title:`${r} wpm`,actions:(0,i.jsx)(t.ActionPanel,{children:(0,i.jsx)(t.Action,{title:"Reload",onAction:()=>m(),icon:t.Icon.Bolt})}),detail:(0,i.jsx)(t.List.Item.Detail,{markdown:l,metadata:n?(0,i.jsxs)(t.List.Item.Detail.Metadata,{children:[(0,i.jsx)(t.List.Item.Detail.Metadata.Label,{title:"Speed",text:{color:t.Color.Green,value:`${r} wpm`}}),(0,i.jsx)(t.List.Item.Detail.Metadata.Label,{title:"Accuracy",text:{color:t.Color.Red,value:`${k(a,c)} %`}})]}):null})})})}
